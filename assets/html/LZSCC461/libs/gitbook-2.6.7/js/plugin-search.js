gitbook.require(["gitbook","lodash","jQuery"],(function(e,t,n){function o(t){y=e.storage.get("search",{engine:t.search.engine||"lunr",opts:t.search.options||{}})}function r(e){if("lunr"===y.engine)return k=lunr((function(){this.ref("url"),this.field("title",{boost:10}),this.field("body")})),void e.map((function(e){k.add({url:e[0],title:e[1],body:e[2]})}));m=new Fuse(e.map((e=>({url:e[0],title:e[1],body:e[2]}))),Object.assign({includeScore:!0,threshold:.1,ignoreLocation:!0,keys:["title","body"]},y.opts))}function i(){return n.getJSON(e.state.basePath+"/search_index.json").then(r)}function a(e){let o=[];if("fuse"===y.engine){if(!m)return;o=m.search(e).map((function(e){var t=e.item.url.split("#");return{path:t[0],hash:t[1]}}))}else{if(!k)return;o=t.chain(k.search(e)).map((function(e){var t=e.ref.split("#");return{path:t[0],hash:t[1]}})).value()}return w=n(".page-inner").unhighlight(x).highlight(e,x).find("span.search-highlight"),s(0),o}function s(e){var t=w.length,n=(v=void 0===v?0:v+e)<0;if(0!==e&&(n||v>=t)){var o=l(),r=T.length;if(0===r)return;for(var i=n?0:r;(n&&i<r||!n&&i>=0)&&T.eq(i).data("path")!==o;i+=n?1:-1);(i+=n?-1:1)<0&&(i=r-1),i>=r&&(i=0);var a=T.eq(i).find('a[href$=".html"]');a.length&&a[0].click()}else if(0!==t){var s=w.eq(v);s[0].scrollIntoView(),w.css("background-color",""),s.css("background-color","orange"),setTimeout((function(){s.css("background-color","")}),2e3)}}function l(){var e=window.location.pathname;return""===(e=e.substr(e.lastIndexOf("/")+1))?"index.html":e}function h(t){b&&b.remove(),p&&p.remove(),g&&g.remove(),b=n("<div>",{class:"book-search",role:"search"}),p=n("<label>",{for:"search-box","aria-hidden":"false",hidden:""}),g=n("<input>",{id:"search-box",type:"search",class:"form-control",val:t,placeholder:"Type to search (Enter for navigation)",title:"Use Enter or the <Down> key to navigate to the next match, or the <Up> key to the previous match"}),p.append("Type to search"),p.appendTo(b),g.appendTo(b),b.prependTo(e.state.$book.find(".book-summary"))}function c(){return e.state.$book.hasClass("with-search")}function u(t){c()!==t&&g&&(e.state.$book.toggleClass("with-search",t),c()?(e.sidebar.toggle(!0),g.focus()):(g.blur(),g.val(""),e.storage.remove("keyword"),e.sidebar.filter(null),n(".page-inner").unhighlight(x)))}function f(o){e.sidebar.filter(t.pluck(o,"path")),T=n("ul.summary").find("li:visible")}function d(){var t=e.storage.get("keyword","");h(t),t.length>0&&(c()||u(!0),f(a(t)))}var g,p,b,v,k=null,m=null,y={engine:"lunr",opts:{}},w=[],x={className:"search-highlight"},T=[];e.events.bind("start",(function(t,r){!1!==r.search&&(o(r),!r.toc||"section"===r.toc.collapse||"subsection"===r.toc.collapse,i().then(d),n(document).on("keyup",".book-search input",(function(e){var t=e.keyCode?e.keyCode:e.which;27==t?(e.preventDefault(),u(!1)):38==t?s(-1):40!=t&&13!=t||s(1)})).on("input",".book-search input",(function(){var t=n(this).val().trim();0===t.length?(e.sidebar.filter(null),e.storage.remove("keyword"),n(".page-inner").unhighlight(x)):(f(a(t)),e.storage.set("keyword",t))})),e.toolbar.createButton({icon:"fa fa-search",label:"Search",position:"left",onClick:u}),e.keyboard.bind(["f"],u))}))}));